<div
  class="community-list"
  [ngClass]="{
    'community-list__list-map': view === 'listMap',
    'community-list__list': view === 'list',
    'community-list__map': view === 'map'
  }"
>
  <iframe
    src="https://netverify.com/web/v4/app?authorizationToken=eyJhbGciOiJIUzUxMiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAAAB2NQQoCMQxF75L1BCZpWprZuXTrBSRpU3Azgs5CEO9uFf7uPd5_Q7xOB2yUsxJrpbVqWcDOHTZYLVXq7KhhhGKS0FsPdCKuXsRTY1igXWJM-3jY_rR23O77lTjJj_wzISNSFkUfpigtzwxHQVafy1rmD3y-aIUT-4oAAAA.qyb0RsIO3hu1VQpAOyIzzgQvrCMQe73DO0sW99m05oEB1b3bvXYfMvWkPA7h1aHyMfzK5ybmKFr_XCne1mhAUA&locale=en-GB"
    width="930"
    height="750"
    allow="camera"
  ></iframe>
  <brookfield-communities-header
    [view]="view"
    (viewChanged)="viewChanged($event)"
    [parentFilter]="filter"
  ></brookfield-communities-header>
  <div class="community-list__content">
    <div class="community-list__communities" *ngIf="view !== 'map'">
      <ng-container *ngIf="communities$ | async as communities">
        <div class="community-list__community" *ngFor="let community of communities">
          <brookfield-community-card
            class="community-list__community-card"
            [community]="community"
            (cardSelected)="communitySelected($event)"
          ></brookfield-community-card>
        </div>
      </ng-container>
    </div>
    <div [hidden]="view === 'list'" class="community-list__map-block" #map></div>
  </div>
  <div class="community-list__compare-comunities" *ngIf="communitiesForCompare?.length">
    <brookfield-communities-selected
      [communities]="communitiesForCompare"
    ></brookfield-communities-selected>
  </div>

  <div class="footer-menu">
    <div
      class="footer-menu__button-show-map"
      (click)="viewChanged(view === 'list' ? 'map' : 'list')"
    >
      <img
        [src]="
          view === 'list' ? 'assets/icons/show-map-icon.svg' : 'assets/icons/show-list-icon.svg'
        "
      />
      {{ view === 'list' ? 'Show Map' : 'Show list' }}
    </div>
    <div class="footer-menu__button-filter" (click)="filter = { open: true }">
      <img src="assets/icons/filter-icon.svg" />
      <span class="communities-header__filter-text">Filters</span>
    </div>
  </div>
</div>
