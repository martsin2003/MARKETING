<div
  class="community-list"
  [ngClass]="{
    'community-list__list-map': view === 'listMap',
    'community-list__list': view === 'list',
    'community-list__map': view === 'map'
  }"
>
  <brookfield-communities-header
    [view]="view"
    (viewChanged)="viewChanged($event)"
    [parentFilter]="filter"
  ></brookfield-communities-header>
  <div class="community-list__content fixed-width-container">
    <div class="community-list__communities" *ngIf="view !== 'map'">
      <ng-container *ngIf="communities$ | async as communities">
        <div class="community-list__community" *ngFor="let community of communities">
          <brookfield-card-info
            [community]="community"
            (cardSelected)="communitySelected($event)"
          ></brookfield-card-info>
        </div>
      </ng-container>
    </div>
    <div [hidden]="view === 'list'" class="community-list__map-block" #map></div>
  </div>
  <div class="community-list__compare-comunities" [ngClass]="{ 'show-panel': showPanelCompare }">
    <brookfield-communities-selected
      [communities]="communitiesForCompare"
    ></brookfield-communities-selected>
  </div>

  <div class="footer-menu">
    <div
      class="footer-menu__button-show-map"
      (click)="viewChanged(view === 'list' ? 'map' : 'list')"
    >
      <img
        [src]="
          view === 'list' ? 'assets/icons/show-map-icon.svg' : 'assets/icons/show-list-icon.svg'
        "
      />
      {{ view === 'list' ? 'Show Map' : 'Show list' }}
    </div>
    <div class="footer-menu__button-filter" (click)="filter = { open: true }">
      <img src="assets/icons/filter-icon.svg" />
      <span class="communities-header__filter-text">Filters</span>
    </div>
  </div>
</div>
