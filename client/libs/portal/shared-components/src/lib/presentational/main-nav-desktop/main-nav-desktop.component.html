<div (mouseleave)="closeMenu()">
  <div
    class="main-navigation-container d-flex align-items-stretch opened"
    [ngClass]="{ opened: menuIsOpened, 'absolute-nav': absoluteNav }"
  >
    <a (click)="navigateTo('home')" class="pl-3 main-navigation-container__desktop-logo">
      <img
        [src]="
          menuIsOpened || !absoluteNav
            ? 'assets/logos/color_brookfield_logo.svg'
            : 'assets/logos/white_brookfield_logo.svg'
        "
        alt=""
      />
    </a>
    <div class="main-navigation d-inline-flex">
      <button class="nav-item-container" (mouseenter)="openMenu('findMyHome')">
        <div class="desktop-nav-item">
          <mat-icon class="expand-arrow" [ngClass]="{ expanded: openedMenu === 'findMyHome' }">
            expand_more
          </mat-icon>
          FIND MY HOME
        </div>
      </button>

      <!-- (mouseenter)="openMenu('homePlans')"
      (click)="navigateTo('/home-plans')" -->
      <button class="nav-item-container">
        <div class="desktop-nav-item">
          <!-- <mat-icon class="expand-arrow" [ngClass]="{ expanded: openedMenu === 'homePlans' }">
            expand_more
          </mat-icon> -->
          HOME PLANS
        </div>
      </button>

      <!-- (mouseenter)="openMenu('empowerInnovations')"
      (click)="navigateTo('/empower')" -->
      <button class="nav-item-container">
        <div class="desktop-nav-item">
          <!-- <mat-icon
            class="expand-arrow"
            [ngClass]="{ expanded: openedMenu === 'empowerInnovations' }"
          >
            expand_more
          </mat-icon> -->
          EMPOWER INNOVATIONS
        </div>
      </button>
      <button class="nav-item-container">
        <div class="desktop-nav-item">WHY BROOKFIELD?</div>
      </button>
    </div>
  </div>
  <div *ngIf="menuIsOpened" class="main-nav-menu-contaner">
    <mat-card *ngIf="openedMenu === 'findMyHome'" class="main-nav-menu">
      <div class="main-nav-menu-wrapper">
        <mat-list>
          <div class="fixed-img">
            <img src="assets/icons/state-va.svg" />
            <p class="image-txt">VIRGINIA</p>
          </div>
          <mat-list-item>
            <button class="main-nav-list-button">
              Frederick County, VA
            </button>
            <mat-divider></mat-divider>
          </mat-list-item>
          <mat-list-item>
            <button class="main-nav-list-button">
              Loudoun County, VA
            </button>
            <mat-divider></mat-divider>
          </mat-list-item>
          <mat-list-item>
            <button class="main-nav-list-button">
              Prince William County, VA
            </button>
          </mat-list-item>
        </mat-list>

        <mat-list>
          <div class="fixed-img">
            <img src="assets/icons/state-md.svg" />
            <p class="image-txt">MARYLAND</p>
          </div>
          <mat-list-item>
            <button class="main-nav-list-button">
              Anne Arundel County, MD
            </button>
            <mat-divider></mat-divider>
          </mat-list-item>
          <mat-list-item>
            <button class="main-nav-list-button">
              Montgomery County, MD
            </button>
            <mat-divider></mat-divider>
          </mat-list-item>
          <mat-list-item>
            <button class="main-nav-list-button">
              Talbot County, MD
            </button>
          </mat-list-item>
        </mat-list>

        <mat-list>
          <div class="fixed-img">
            <img src="assets/icons/state-de.svg" />
            <p class="image-txt">DELAWARE</p>
          </div>
          <mat-list-item>
            <button class="main-nav-list-button">
              Sussex County, DE
            </button>
            <mat-divider></mat-divider>
          </mat-list-item>
        </mat-list>
      </div>
      <div class="underscoring-main-nav-menu">
        <mat-divider></mat-divider>
      </div>

      <div class="bottom-buttons">
        <button class="bottom-buttons__button" (click)="navigateTo('find/communities')">
          View All Communities
        </button>
        <button class="bottom-buttons__button">
          View All Move-In-Now Homes
        </button>
      </div>
    </mat-card>

    <mat-card *ngIf="openedMenu === 'homePlans'" class="main-nav-menu">
      <div class="d-flex flex-row justify-content-between px-5">
        <button class="d-flex flex-column align-items-center main-nav-home-plans-button">
          <img src="http://placehold.it/200x200/333333" />
          <div class="text-center font-weight-bold">SINGLE-FAMILY<br />HOMES</div>
        </button>

        <button class="d-flex flex-column align-items-center main-nav-home-plans-button">
          <img src="http://placehold.it/200x200/333333" />
          <div class="text-center font-weight-bold">TOWNHOMES</div>
        </button>

        <button class="d-flex flex-column align-items-center main-nav-home-plans-button">
          <img src="http://placehold.it/200x200/333333" />
          <div class="text-center font-weight-bold">CONDOS</div>
        </button>

        <button class="d-flex flex-column align-items-center main-nav-home-plans-button">
          <img src="http://placehold.it/200x200/333333" />
          <div class="text-center font-weight-bold">VIEW ALL<br />HOME PLANS</div>
        </button>
      </div>
    </mat-card>

    <mat-card *ngIf="openedMenu === 'empowerInnovations'" class="main-nav-menu">
      <div class="d-flex flex-column align-items-center">
        <div class="d-flex flex-row mb-3">
          <div class="d-flex flex-column align-items-center main-nav-empower-innovations-card">
            <button>
              <img src="http://placehold.it/200x200/333333" />
            </button>
            <div class="text-center main-nav-empower-innovations-text">
              Access a code online and tour select homes on your own, on your time
            </div>
          </div>

          <div class="d-flex flex-column align-items-center main-nav-empower-innovations-card">
            <button>
              <img src="http://placehold.it/200x200/333333" />
            </button>
            <div class="text-center main-nav-empower-innovations-text">
              Personalize an already-built home with your design selections. It's yours within two
              months.
            </div>
          </div>

          <div class="d-flex flex-column align-items-center main-nav-empower-innovations-card">
            <button>
              <img src="http://placehold.it/200x200/333333" />
            </button>
            <div class="text-center main-nav-empower-innovations-text">
              Easy-to-use technology lets you preview your home with a variety of options for paint,
              cabinets, counters, and more.
            </div>
          </div>
        </div>

        <div class="d-flex flex-row">
          <div class="d-flex flex-column align-items-center main-nav-empower-innovations-card">
            <button>
              <img src="http://placehold.it/200x200/333333" />
            </button>
            <div class="text-center main-nav-empower-innovations-text">
              Control your home with just your voice using automation technology powered by Amazon
              Alexa.
            </div>
          </div>

          <div class="d-flex flex-column align-items-center main-nav-empower-innovations-card">
            <button>
              <img src="http://placehold.it/200x200/333333" />
            </button>
            <div class="text-center main-nav-empower-innovations-text">
              The My Brookfield Home app sends you progress updates, photos, and reminders during
              your home's construction.
            </div>
          </div>

          <div class="d-flex flex-column align-items-center main-nav-empower-innovations-card">
            <button>
              <img src="http://placehold.it/200x200/333333" />
            </button>
            <div class="text-center main-nav-empower-innovations-text">
              Every Brookfield Residential home includes features designed to save energy and save
              you money.
            </div>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
</div>
